/**
 * Minified by jsDelivr using UglifyJS v3.1.10.
 * Original file: /npm/d3-timelines@1.3.1/build/d3-timelines.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-axis"),require("d3-array"),require("d3-time-format"),require("d3-time"),require("d3-scale"),require("d3-selection"),require("d3-zoom")):"function"==typeof define&&define.amd?define(["exports","d3-axis","d3-array","d3-time-format","d3-time","d3-scale","d3-selection","d3-zoom"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3)}(this,function(t,e,n,r,i,a,o,l){"use strict";t.timelines=function(){function t(t){function r(t,e){return C.left+(t.starting_time-z)*tt}function i(t,e){var n=(i.canvas||(i.canvas=document.createElement("canvas"))).getContext("2d");return n.font=e,n.measureText(t).width}function c(t,e,n,r){var a=0;if(t.ending_time&&(a=(t.ending_time-t.starting_time)/2*tt),n&&r){var o=getComputedStyle(document.querySelector(r)),l=i(n,o.fontSize+" "+o.fontFamily)/2;return C.left+(t.starting_time-z)*tt+a-l}return C.left+(t.starting_time-z)*tt+5}function h(t,e,n){n=n||"timeline-line",et.append("svg:line").attr("x1",t).attr("y1",e.marginTop).attr("x2",t).attr("y2",w-e.marginBottom).attr("class",n).style("stroke",e.color).style("stroke-width",e.width)}var p=t.node().getBoundingClientRect(),x=o.select(t.node()),A=t.append("g").attr("class","container"),I={},N=1,D=0,X=0;!function(){if(k||p.width){if(!k&&p.width)try{k=p.width}catch(t){console.log(t)}}else try{if(!(k=x.node().attr("width")))throw"width of the timeline is not set. As of Firefox 27, timeline().with(x) needs to be explicitly set in order to render"}catch(t){console.log(t)}}(),V&&A.each(function(t,e){var n=0;t.forEach(function(t,e){t.times.forEach(function(t,r){0===e&&0===r?(n=t.starting_time,t.starting_time=0,t.ending_time=t.ending_time-n):(t.starting_time=t.starting_time-n,t.ending_time=t.ending_time-n)})})}),(Y||0===q||0===z)&&(A.each(function(t,e){t.forEach(function(t,e){Y&&-1==Object.keys(I).indexOf(e)&&(I[e]=N,N++),t.times.forEach(function(t,e){0===z&&(t.starting_time<D||0===D&&!1===V)&&(D=t.starting_time),0===q&&t.ending_time>X&&(X=t.ending_time)})})}),0===q&&(q=X),0===z&&(z=D));var U,$,tt=1/(q-z)*(k-C.left-C.right);"bottom"==v?$=e.axisBottom():"top"==v&&($=e.axisTop()),L?(U=a.scaleLinear().domain([z,q]).range([C.left,k-C.right]),$.scale(U).tickFormat(function(t){var e=Math.floor(t/86400),n=Math.floor((t-86400*e)/3600),r=Math.floor((t-86400*e-3600*n)/60),i=t-86400*e-3600*n-60*r,a="";return i&&(a=i+"s"),r&&(a=r+"m "+a),n&&(a=n+"h "+a),e&&(a=e+"d "+a),a}).tickValues(n.range(0,q,86400))):(U=a.scaleTime().domain([z,q]).range([C.left,k-C.right]),$.scale(U).tickFormat(_.format).tickSize(_.tickSize)),null!==_.tickValues?$.tickValues(_.tickValues):$.tickArguments(_.numTicks||[_.tickTime,_.tickInterval]);var et=A.append("g").attr("class","view");A.each(function(e,n){F=e,e.forEach(function(e,n){function i(t,e){return Y?C.top+(P+j)*I[n]:C.top}function a(t,e){return Y?C.top+(P+j)*I[n]+.75*P:C.top+.75*P}var l=e.times;l.forEach(function(t){t.name=e.name});var m=void 0!==e.label;if(void 0!==e.id&&console.warn("d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element."),b&&ot(I,n,A,l,e),et.selectAll("svg").data(l).enter().append(function(t,e){return document.createElementNS(o.namespaces.svg,"display"in t?t.display:S)}).attr("x",r).attr("y",i).attr("width",function(t,e){return(t.ending_time-t.starting_time)*tt}).attr("cy",function(t,e){return i()+P/2}).attr("cx",r).attr("r",P/2).attr("height",P).style("fill",function(t,r){var i;return t.color?t.color:E?(i=t[E],B(i||e[E])):B(n)}).on("mousemove",function(t,r){s(t,n,e,r)}).on("mouseover",function(t,n){u(t,n,e,n)}).on("mouseout",function(t,n){f(t,n,e,n)}).on("click",function(t,r){var i=o.mouse(this),a=o.select(this).node(),l="text#"+a.id+".textnumbers",c=o.select(l).node();d(t,n,e,c,a,U.invert(i[0]))}).attr("class",function(t,r){return e.class?"timelineSeries_"+e.class:"timelineSeries_"+n}).attr("id",function(t,r){return e.id&&!t.id?"timelineItem_"+e.id:t.id?t.id:"timelineItem_"+n+"_"+r}),et.selectAll("svg").data(l).enter().append("text").attr("class","textlabels").attr("id",function(t){return t.id}).attr("x",function(t,e){return c(t,0,t.label,".textlabels")}).attr("y",a()-g).text(function(t){return t.label}).on("click",function(t,r){var i=o.mouse(this),a=this.id,l="text#"+a+".textnumbers",c=o.select(l).node(),s="rect#"+a,u=o.select(s).node();d(t,n,e,c,u,U.invert(i[0]))}),et.selectAll("svg").data(l).enter().filter(function(t){return void 0!==t.labelNumber}).append("text").attr("class","textnumbers").attr("id",function(t){return t.id}).attr("x",function(t,e){return c(t,0,t.labelNumber,".textnumbers")}).attr("y",a).text(function(t){return t.labelNumber}).on("click",function(t,r){var i=o.mouse(this),a=this.id,l=o.select(this).node(),c="rect#"+a,s=o.select(c).node();d(t,n,e,l,s,U.invert(i[0]))}),y){var h=P+j/2+C.top+(P+j)*I[n];t.append("svg:line").attr("class","row-separator").attr("x1",0+C.left).attr("x2",k-C.right).attr("y1",h).attr("y2",h).attr("stroke-width",1).attr("stroke",y)}m&&lt(t,I,n,m,e),void 0!==e.icon&&t.append("image").attr("class","timeline-label").attr("transform","translate(0,"+(C.top+(P+j)*I[n])+")").attr("xlink:href",e.icon).attr("width",C.left).attr("height",P)})});var rt=C.top+(P+j)*N,it=C.top,ct=R?it:rt;if(H&&nt(A,$,ct),W&&at(A,$,N),k>p.width)var st=function(){A.select(".view").attr("transform","translate("+o.event.transform.x+",0)scale("+o.event.transform.k+" 1)"),A.selectAll(".timeline-xAxis").attr("transform",function(t){return"translate("+o.event.transform.x+", "+ct+")scale("+o.event.transform.k+" 1)"});var t=o.event.transform.rescaleX(U);A.selectAll(".timeline-xAxis").call(function(e){$.scale(t)});var e=-o.event.transform.x;m(e,U)};var ut=l.zoom().scaleExtent([0,M]).translateExtent([[0,0],[k,0]]).on("zoom",st);t.classed("scrollable",!0).call(ut),T||(A.on("wheel",function(){o.event.preventDefault(),o.event.stopImmediatePropagation()}),A.on("dblclick.zoom",function(){o.event.preventDefault(),o.event.stopImmediatePropagation()})),O&&A.selectAll(".tick text").attr("transform",function(t){return"rotate("+O+")translate("+(this.getBBox().width/2+10)+","+this.getBBox().height/2+")"});var ft=A.node().getBoundingClientRect();(function(){if(w||p.height)w?x.node().attr("height",w):w=p.height;else{if(!P)throw"height of the timeline is not set";w=ft.height+ft.top-p.top,o.select(t).node().attr("height",w)}})(),J&&A.each(function(t,e){t.forEach(function(t){t.times.forEach(function(t){h(U(t.starting_time),K,Q),h(U(t.ending_time),K,Q)})})}),Z&&h(U(new Date),G)}var c=["circle","rect"],s=function(){},u=function(){},f=function(){},d=function(){},m=function(){},h=function(t){return t},g=0,p=function(){},x=function(){},v="bottom",k=null,w=null,y=null,b=null,_={format:r.timeFormat("%I %p"),tickTime:i.timeHour,tickInterval:1,tickSize:6,tickValues:null},T=!0,A="white",F={},B=a.scaleOrdinal(a.schemeCategory20),E=null,S="rect",z=0,I=0,q=0,C={left:30,right:30,top:30,bottom:30},M=5,Y=!1,O=!1,V=!1,L=!1,N=!1,P=20,j=5,D=60,H=!0,R=!1,Z=!1,W=!1,X={stroke:"stroke-dasharray",spacing:"4 10"},G={marginTop:25,marginBottom:0,width:1,color:B},J=!1,K={marginTop:25,marginBottom:0,width:1,color:B},Q="timeline-border-line",U=!1,$=!1,tt=!1,et="timeline-xAxis",nt=function(t,e,n){return U&&it(t,0,0),$&&rt(t),t.append("g").attr("class",et).attr("transform","translate(0,"+n+")").call(e)},rt=function(t){var e=C.left-D,n=(k-C.left)/6,r=k-C.right-n+D,i=t.append("g").attr("class","axis").attr("transform","translate(0, 20)");tt&&function(t){var e=z.getFullYear();z.getFullYear()!=q.getFullYear()&&(e=z.getFullYear()+"-"+q.getFullYear()),t.append("text").attr("transform","translate(20, 0)").attr("x",0).attr("y",14).attr("class","calendarYear").text(e)}(i),i.append("text").attr("transform","translate("+e+", 0)").attr("x",0).attr("y",14).attr("class","chevron").text("<").on("click",function(){return p(z,F)}),i.append("text").attr("transform","translate("+r+", 0)").attr("x",0).attr("y",14).attr("class","chevron").text(">").on("click",function(){return x(q,F)})},it=function(t,e,n){t.insert("rect").attr("class","row-green-bar").attr("x",e).attr("width",k).attr("y",n).attr("height",P).attr("fill",A)},at=function(t,e,n){t.append("g").attr("class","axis").attr("transform","translate(0,"+(C.top+(P+j)*n)+")").attr(X.stroke,X.spacing).call(e.tickFormat("").tickSize(-(C.top+(P+j)*(n-1)+3),0,0))},ot=function(t,e,n,r,i){var a=(P+j)*t[e]+C.top;n.selectAll("svg").data(r).enter().insert("rect",":first-child").attr("class","row-green-bar").attr("x",N?0:C.left).attr("width",N?k:k-C.right-C.left).attr("y",a).attr("height",P).attr("fill",b instanceof Function?b(i,e):b)},lt=function(t,e,n,r,i){var a=P+j,l=C.top+a/2+a*(e[n]||1);t.append("text").attr("class","timeline-label").attr("transform","translate("+I+","+l+")").text(r?h(i.label):i.id).on("click",function(e,r){console.log("label click!");var a=o.mouse(this);t.append("rect").attr("id","clickpoint").attr("x",a[0]).attr("width",10).attr("height",P),d(e,n,i,a,xScale.invert(a[0]))})};return t.margin=function(e){return arguments.length?(C=e,t):C},t.orient=function(e){return arguments.length?(v=e,t):v},t.itemHeight=function(e){return arguments.length?(P=e,t):P},t.itemMargin=function(e){return arguments.length?(j=e,t):j},t.navMargin=function(e){return arguments.length?(D=e,t):D},t.height=function(e){return arguments.length?(w=e,t):w},t.width=function(e){return arguments.length?(k=e,t):k},t.display=function(e){return arguments.length&&-1!=c.indexOf(e)?(S=e,t):S},t.labelFormat=function(e){return arguments.length?(h=e,t):h},t.tickFormat=function(e){return arguments.length?(_=e,t):_},t.allowZoom=function(e){return arguments.length?(T=e,t):T},t.maxZoom=function(e){return arguments.length?(M=e,t):M},t.hover=function(e){return arguments.length?(s=e,t):s},t.mouseover=function(e){return arguments.length?(u=e,t):u},t.mouseout=function(e){return arguments.length?(f=e,t):f},t.click=function(e){return arguments.length?(d=e,t):d},t.scroll=function(e){return arguments.length?(m=e,t):m},t.colors=function(e){return arguments.length?(B=e,t):B},t.beginning=function(e){return arguments.length?(z=e,t):z},t.ending=function(e){return arguments.length?(q=e,t):q},t.labelMargin=function(e){return arguments.length?(I=e,t):I},t.labelFloat=function(e){return arguments.length?(g=e,t):g},t.rotateTicks=function(e){return arguments.length?(O=e,t):O},t.stack=function(){return Y=!Y,t},t.relativeTime=function(){return V=!V,t},t.linearTime=function(){return L=!L,t},t.showBorderLine=function(){return J=!J,t},t.showBorderFormat=function(e){return arguments.length?(K=e,t):K},t.showBorderLineClass=function(e){return arguments.length?(Q=e,t):Q},t.showToday=function(){return Z=!Z,t},t.showTodayFormat=function(e){return arguments.length?(G=e,t):G},t.colorProperty=function(e){return arguments.length?(E=e,t):E},t.rowSeparators=function(e){return arguments.length?(y=e,t):y},t.background=function(e){return arguments.length?(b=e,t):b},t.showTimeAxis=function(){return H=!H,t},t.showAxisTop=function(){return R=!R,t},t.showAxisCalendarYear=function(){return tt=!tt,t},t.showTimeAxisTick=function(){return W=!W,t},t.fullLengthBackgrounds=function(){return N=!N,t},t.showTimeAxisTickFormat=function(e){return arguments.length?(X=e,t):X},t.showAxisHeaderBackground=function(e){return U=!U,e&&(A=e),t},t.xAxisClass=function(e){return arguments.length?(et=e,t):et},t.navigate=function(e,n){return arguments.length?(p=e,x=n,$=!$,t):[p,x]},t.version=function(){return"1.0.0"},t},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=/sm/c31de59333b94d356d4a28cfcb67356c43be80b8bb7a3a56a1fe058707a02354.map